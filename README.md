# nfs chef cookbook

NFS: network shared filesystem

## Overview

Configures NFS.

### Troubleshooting


* On maverick, you have to patch your kernel.

    $ sudo showmount -e localhost
    Export list for localhost:
    /home *.internal


From the client machine, 

    rpcinfo -p 10.220.177.58 | grep nfs

* [How to configure NFS on linux](http://how-to.linuxcareer.com/how-to-configure-nfs-on-linux)

## Recipes 

* `client`                   - NFS client: uses metachef to discover its server, and mounts the corresponding NFS directory
* `default`                  - Base configuration for nfs
* `server`                   - NFS server: exports directories via NFS; announces using metachef.

## Integration

Supports platforms: debian and ubuntu

Cookbook dependencies:
* metachef


## Attributes

* `[:nfs][:exports]`                  - NFS Exports
  - Describes the volumes to export. Supply a list of pairs: <path-to-export, hash-of-NFS-options>. For example, 
       default[:nfs][:exports] = [[ '/home', { :nfs_options => '*.internal(rw,no_root_squash,no_subtree_check)' }]]
* `[:nfs][:mounts]`                   - NFS Mounts
  - The foreign volumes to mount. Uses metachef discovery to find the NFS server for that volume. Supply a list of pairs: <path-to-export, hash-of-NFS-options>.
* `[:nfs][:portmap_port]`             -  (default: "111")
* `[:nfs][:nfsd_port]`                -  (default: "2049")
* `[:nfs][:mountd_port]`              -  (default: "45560")
* `[:nfs][:statd_port]`               -  (default: "56785")
* `[:firewall][:port_scan][:portmap]` - 
* `[:firewall][:port_scan][:nfsd]`    - 
* `[:firewall][:port_scan][:mountd]`  - 
* `[:firewall][:port_scan][:statd]`   - 

## License and Author

Author::                37signals (<sysadmins@37signals.com>)
Copyright::             2011, 37signals

(no license specified)

> readme generated by [cluster_chef](http://github.com/infochimps/cluster_chef)'s cookbook_munger
